{"map":"{\"version\":3,\"sources\":[\"js/bundle.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"[object Object]\",\"this\",\"URI\",\"response\",\"fetch\",\"json\",\"book\",\"method\",\"body\",\"data\",\"console\",\"log\",\"id\",\"headers\",\"Content-Type\",\"__webpack_exports__\",\"models_Book\",\"title\",\"author\",\"isbn\",\"BookService\",\"BookService_default\",\"EN_US\",\"ZH_CN\",\"Locales\",\"register\",\"locale\",\"func\",\"getLocale\",\"SEC_ARRAY\",\"toDate\",\"input\",\"Date\",\"isNaN\",\"test\",\"parseInt\",\"trim\",\"replace\",\"formatDiff\",\"diff\",\"localeFunc\",\"agoIn\",\"totalSec\",\"Math\",\"abs\",\"idx\",\"length\",\"diffSec\",\"date\",\"relativeDate\",\"format\",\"opts\",\"unit\",\"_bookService\",\"a\",\"frontend_UI\",\"books\",\"getBooks\",\"booksCardContainer\",\"document\",\"getElementById\",\"innerHTML\",\"forEach\",\"div\",\"createElement\",\"className\",\"imagePath\",\"autor\",\"_id\",\"created_at\",\"appendChild\",\"saveBooks\",\"clearBookForm\",\"renderBooks\",\"reset\",\"message\",\"colorMessage\",\"secondsToRemove\",\"container\",\"querySelector\",\"bookForm\",\"createTextNode\",\"insertBefore\",\"setTimeout\",\"remove\",\"deleteBook\",\"addEventListener\",\"e\",\"target\",\"classList\",\"contains\",\"ui\",\"getAttribute\",\"renderMessage\",\"preventDefault\",\"image\",\"files\",\"formData\",\"FormData\",\"append\",\"addNewBook\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t){e.exports=class{constructor(){this.URI=\"http://localhost:3000/api/books\"}async getBooks(){const e=await fetch(this.URI);return await e.json()}async saveBooks(e){const t=await fetch(this.URI,{method:\"POST\",body:e}),n=await t.json();console.log(n)}async deleteBook(e){const t=await fetch(`${this.URI}/${e}`,{headers:{\"Content-Type\":\"application/json\"},method:\"DELETE\"}),n=await t.json();console.log(n)}}},function(e,t,n){},function(e,t,n){\"use strict\";n.r(t);n(1);var o=class{constructor(e,t,n){this.title=e,this.author=t,this.isbn=n}},r=n(0),a=n.n(r),s=[\"second\",\"minute\",\"hour\",\"day\",\"week\",\"month\",\"year\"],c=[\"秒\",\"分钟\",\"小时\",\"天\",\"周\",\"个月\",\"年\"],d={},i=function(e,t){d[e]=t},l=function(e){return d[e]||d.en_US},u=[60,60,24,7,365/7/12,12];function m(e){return e instanceof Date?e:!isNaN(e)||/^\\d+$/.test(e)?new Date(parseInt(e)):(e=(e||\"\").trim().replace(/\\.\\d+/,\"\").replace(/-/,\"/\").replace(/-/,\"/\").replace(/(\\d)T(\\d)/,\"$1 $2\").replace(/Z/,\" UTC\").replace(/([+-]\\d\\d):?(\\d\\d)/,\" $1$2\"),new Date(e))}function f(e,t){for(var n=e<0?1:0,o=e=Math.abs(e),r=0;e>=u[r]&&r<u.length;r++)e/=u[r];return(e=~~e)>(0===(r*=2)?9:1)&&(r+=1),t(e,r,o)[n].replace(\"%s\",e)}function p(e,t){return(+(t=t?m(t):new Date)-+m(e))/1e3}var v=function(e,t,n){return f(p(e,n&&n.relativeDate),l(t))};i(\"en_US\",(function(e,t){if(0===t)return[\"just now\",\"right now\"];var n=s[~~(t/2)];return e>1&&(n+=\"s\"),[e+\" \"+n+\" ago\",\"in \"+e+\" \"+n]})),i(\"zh_CN\",(function(e,t){if(0===t)return[\"刚刚\",\"片刻后\"];var n=c[~~(t/2)];return[e+\" \"+n+\"前\",e+\" \"+n+\"后\"]}));const g=new a.a;var h=class{async renderBooks(){const e=await g.getBooks(),t=document.getElementById(\"books-cards\");t.innerHTML=\"\",e.forEach(e=>{const n=document.createElement(\"div\");n.className=\"\",n.innerHTML=`\\n          <div class=\"card m-2\">\\n              <div class=\"row\">\\n                  <div class=\"col-md-4\">\\n                      <img src=\"http://localhost:3000${e.imagePath}\" alt=\"\" class=\"img-fluid\">\\n                  </div>\\n                  <div class=\"col-md-8\">\\n                      <div class=\"card-block px-2\">\\n                          <h1 class=\"card-title\">${e.title}</h1>\\n                          <p  class=\"card-text\">${e.autor}</p>\\n                          <a href=\"#\" class=\"btn btn-danger delete\" _id=\"${e._id}\">x</a>\\n                      </div>\\n                  </div>\\n                  <div class=\"card-footer\">\\n                      <p> ${v(e.created_at)} </p>\\n                  </div>\\n              </div>\\n\\n          </div>\\n       \\n       `,t.appendChild(n)})}async addNewBook(e){await g.saveBooks(e),this.clearBookForm(),this.renderBooks()}clearBookForm(){document.getElementById(\"book-form\").reset()}renderMessage(e,t,n){const o=document.createElement(\"div\");o.className=`alert alert-${t} message`;const r=document.querySelector(\".col-md-4\"),a=document.querySelector(\"#book-form\");o.appendChild(document.createTextNode(e)),r.insertBefore(o,a),setTimeout(()=>{document.querySelector(\".message\").remove()},n)}async deleteBook(e){await g.deleteBook(e),this.renderBooks()}};document.addEventListener(\"DOMContentLoaded\",()=>{(new h).renderBooks()}),document.getElementById(\"books-cards\").addEventListener(\"click\",e=>{if(e.target.classList.contains(\"delete\")){const t=new h;t.deleteBook(e.target.getAttribute(\"_id\")),t.renderMessage(\"Libro eliminado\",\"danger\",2e3)}e.preventDefault()}),document.getElementById(\"book-form\").addEventListener(\"submit\",e=>{const t=document.getElementById(\"title\").value,n=document.getElementById(\"autor\").value,r=document.getElementById(\"isbn\").value,a=document.getElementById(\"image\").files,s=new FormData;s.append(\"image\",a[0]),s.append(\"title\",t),s.append(\"autor\",n),s.append(\"isbn\",r);const c=new h;new o(t,n,r);\"\"===t||\"\"===n||\"\"===r?c.renderMessage(\"Please fill all the fields\",\"error\",3e3):(c.addNewBook(s),c.renderMessage(\"New Book Added Successfully\",\"success\",2e3)),e.preventDefault()})}]);","extractedComments":[]}